<!DOCTYPE html>
<html>
<head>
	<title>Test</title>
	<script type="text/javascript" src="shuriken.js"></script>
	<script type="text/javascript">
	(function()
	{
		const SD = Shuriken.Data;

		window.onload = function(){
			console.log("window loaded");
		}

		window.onload = function()
		{
			SD.bind("#testContent", "input");
			SD.bind("#testInput").out("input");
			SD.bind("#arrayHolder", "testArray");

			document.querySelector("#addToArrayBtn").onmouseup = function(){
				const newArr = (SD.get("testArray") || []);
				newArr.push(document.querySelector("#testInput").value);
				SD.set("testArray", newArr);
			};

			document.querySelector("#clearArrayBtn").onmouseup = function(){
				SD.set("testArray", []);
			};
		};

		window.onbeforeunload = function(e){
			console.log("onbeforeunload");
			//return "";
		};

	})();

	</script>
</head>
<body>

<div id="wrapper">
	<ul id="arrayHolder">
	</ul>
	<p id="testContent"><span>input:</span></p>
	<label for="testInput">Enter something:</label><input type="text" id="testInput"><button id="addToArrayBtn">Add!</button><button id="clearArrayBtn">Clear!</button>
	<a href="test.html">test</a>
</div>

</body>
</html>